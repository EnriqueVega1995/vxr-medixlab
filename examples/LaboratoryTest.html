<html>
  <head>
    <meta charset="utf-8">
    <title>Dev Example — Networked-Aframe</title>
    <meta name="description" content="Dev Example — Networked-Aframe">

    <script src="https://aframe.io/releases/1.2.0/aframe.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/2.3.0/socket.io.slim.js"></script>
    <script src="/easyrtc/easyrtc.js"></script>
    <script src="/dist/networked-aframe.js"></script>

    <script src="https://unpkg.com/aframe-randomizer-components@^3.0.1/dist/aframe-randomizer-components.min.js"></script>
    <script src="https://unpkg.com/aframe-particle-system-component@1.0.5/dist/aframe-particle-system-component.min.js"></script>
    <script src="/js/spawn-in-circle.component.js"></script>
    <script src="https://unpkg.com/aframe-environment-component@1.2.0/dist/aframe-environment-component.min.js"></script>
  </head>
  <body>
    <a-scene networked-scene="
      room: dev;
      debug: true;
      adapter: wseasyrtc;
    ">




    <a-assets>
        <a-asset-item id="reticle"
          src="https://cdn.aframe.io/examples/ar/models/reticle/reticle.gltf"
          response-type="arraybuffer" crossorigin="anonymous"></a-asset-item> 
    
        <img id="shadow" src="https://cdn.glitch.com/20600112-c04b-492c-8190-8a5ccc06f37d%2Fshadow.png?v=1606338852399"></img>

        <a.asser-item id="alcoholbottle" src="/Models/gltf/AlcoholBottle.gltf"></a.asser-item>
        <a.asser-item id="alcoholgel" src="/Models/gltf/AlcoholGel.gltf"></a.asser-item>
        <a-asset-item id="bandeja" src="/Models/gltf/Bandeja.gltf"></a-asset-item>
        <a.asser-item id="bandeja02" src="/Models/gltf/Tray.gltf"></a.asser-item>
        <a-asset-item id="base" src="/Models/gltf/Base.gltf"></a-asset-item>
        <a.asser-item id="cabinet01" src="/Models/gltf/Cabinet01.gltf"></a.asser-item>
        <a.asser-item id="cabinet02" src="/Models/gltf/Cabinet02.gltf"></a.asser-item>
        <a.asser-item id="cabinet03" src="/Models/gltf/Cabinet03.gltf"></a.asser-item>
        <a-asset-item id="bed" position="1.75217 0.92 1.00408" src="/Models/gltf/Bed.gltf"></a-asset-item>
        <a-asset-item id="container" src="/Models/gltf/TrashContainer.gltf"></a-asset-item>
        <a-asset-item id="containerblack" src="/Models/gltf/TrashContainerBlack.gltf"></a-asset-item>
        <a.asser-item id="cottonswabs01" src="/Models/gltf/CottonSwabs01.gltf"></a.asser-item>
        <a.asser-item id="cottonswabs02" src="/Models/gltf/CottonSwabs02.gltf"></a.asser-item>
        <a.asser-item id="cottonswabs03" src="/Models/gltf/CottonSwabs03.gltf"></a.asser-item>
        <a.asser-item id="dryer" src="/Models/gltf/Dryer.gltf"></a.asser-item>
        <a-asset-item id="floor" src="/Models/gltf/Floor.gltf"></a-asset-item>
        <a.asser-item id="forceps" src="/Models/gltf/Forceps.gltf"></a.asser-item>
        <a.asser-item id="gauze" src="/Models/gltf/Gauze.gltf"></a.asser-item>
        <a-asset-item id="maskn95" src="/Models/gltf/MaskN95.gltf"></a-asset-item>
        <a-asset-item id="medicaltape" src="/Models/gltf/MedicalTape.gltf"></a-asset-item>
        <a-asset-item id="mesa" src="/Models/gltf/Table01.gltf"></a-asset-item>
        <a-asset-item id="modularscreen" src="/Models/gltf/ModularScreen.gltf"></a-asset-item>
        <a.asser-item id="patient" src="/Models/gltf/Patient.gltf"></a.asser-item>
        <a.asser-item id="salver" src="/Models/gltf/Salver.gltf"></a.asser-item>
        <a-asset-item id="silla" src="/Models/gltf/Silla.gltf"></a-asset-item>
        <a.asser-item id="dripbag" src="/Models/gltf/DripBag.gltf"></a.asser-item>
        <a.asser-item id="surgicalpallets" src="/Models/gltf/SurgicalPallets.gltf"></a.asser-item>
        <a.asser-item id="table02" src="/Models/gltf/Table02.gltf"></a.asser-item>
        <a.asser-item id="table03" src="/Models/gltf/Table03.gltf"></a.asser-item>
        <a.asser-item id="trashcan" src="/Models/gltf/TrashCan.gltf"></a.asser-item>
        <a.asser-item id="tweezers" src="/Models/gltf/Tweezers.gltf"></a.asser-item>
        <a.asser-item id="tweezers2" src="/Models/gltf/Tweezers2.gltf"></a.asser-item>
        <a.asser-item id="scenebase" src="/Models/gltf/Scene_Base.gltf"></a.asser-item>
        <a.asser-item id="scenebase02" src="/Models/gltf/Scene_Base02.gltf"></a.asser-item>
        <a.asser-item id="scenemedixlablogo" src="/Models/gltf/Scene_Medixlablogo.gltf"></a.asser-item>
        <a.asser-item id="sceneieproeslogo" src="/Models/gltf/Scene_Ieproesblogo.gltf"></a.asser-item>
        <a.asser-item id="scenevertexlogo" src="/Models/gltf/Scene_VertexLogo.gltf"></a.asser-item>
        <a.asser-item id="scenebase02" src="/Models/gltf/Scene_Base02.gltf"></a.asser-item>
        <a.asser-item id="lamps" position="0 0 -12.41576" src="/Models/gltf/Scene_Lamps.gltf"></a.asser-item>
        <a.asser-item id="row" src="/Models/gltf/Scene_Row.gltf"></a.asser-item>
        <a.asser-item id="washer" src="/Models/gltf/Washer.gltf"></a.asser-item>
        <a.asser-item id="rubber" src="/Models/gltf/Rubber.gltf"></a.asser-item>
        <video id="covid" autoplay loop="true" src="videos/Video_Proceso1_Capture2.mp4"> </video>
        
        
    </a-assets>

    <a-entity environment="lightPosition: 1 5 -2; groundColor: #00275b; grid: dots; gridColor: #168dab; preset: starry; skyType: atmosphere; skyColor: #030022; shadow: true; playArea: 0.5; ground: flat; groundColor2: #009dff" visible=""><a-entity class="environment" position="0 50 0" light="type: hemisphere; color: #CEE4F0; intensity: 0.1; groundColor: #445" visible=""></a-entity><a-entity class="environment" position="1 5 -2" light="intensity: 0.1; shadowCameraLeft: -10; shadowCameraBottom: -10; shadowCameraRight: 10; shadowCameraTop: 10" visible=""></a-entity><a-entity rotation="-90 0 0" class="environmentGround environment" visible="" scale="1 1 3" shadow="cast: false; receive: false"></a-entity><a-entity class="environmentDressing environment" visible="false"></a-entity><a-sky radius="200" theta-length="110" class="environment" material="shader: skyshader; sunPosition: 0 0 0" visible="" geometry=""></a-sky><a-entity id="stars"></a-entity><a-entity class="environment" position="0 50 0" light="type: hemisphere; color: #817f90; intensity: 0.1; groundColor: #00275b" visible=""></a-entity><a-entity class="environment" position="1 5 -2" light="intensity: 0.1; castShadow: true; shadowCameraLeft: -10; shadowCameraBottom: -10; shadowCameraRight: 10; shadowCameraTop: 10" visible=""></a-entity><a-entity rotation="-90 0 0" class="environmentGround environment" visible="" scale="1 1 3" shadow="cast: false"></a-entity><a-entity class="environmentDressing environment" visible="false"></a-entity><a-sky radius="200" theta-length="110" class="environment" material="shader: skyshader; sunPosition: 0 0 0" visible="" geometry=""></a-sky><a-entity id="stars" visible=""></a-entity></a-entity>

   <a-entity id="row01" gltf-model="#row";  ></a-entity>
      
                
                
      



    </a-scene>
    
    <script>
      // Define custom schema for syncing avatar color, set by random-color
      NAF.schemas.add({
        template: '#avatar-template',
        components: [
          'position',
          'rotation',
          {
            selector: '.head',
            component: 'material',
            property: 'color'
          }
        ]
      });

      // Called by Networked-Aframe when connected to server
      function onConnect () {
        console.log("onConnect", new Date());
      }

      // On mobile remove elements that are resource heavy
      var isMobile = AFRAME.utils.device.isMobile();

      if (isMobile) {
        var particles = document.getElementById('particles');
        particles.parentNode.removeChild(particles);
      }
    </script>
  </body>
</html>
