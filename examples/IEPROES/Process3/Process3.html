<html>

<head>
  <meta charset="utf-8">
  <title>Dev Example — Networked-Aframe</title>
  <meta name="description" content="Dev Example — Networked-Aframe">
  <script src="../../super/build.js"></script>


   <script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/2.3.0/socket.io.slim.js"></script>
  <script src="/easyrtc/easyrtc.js"></script>
  <script src="/dist/networked-aframe.js"></script>
  <script src="https://unpkg.com/aframe-particle-system-component@1.0.5/dist/aframe-particle-system-component.min.js"></script>
  <script src="/js/spawn-in-circle.component.js"></script>
  <script src="https://unpkg.com/aframe-randomizer-components@^3.0.1/dist/aframe-randomizer-components.min.js"></script>
  
    <!-- Super hands -->
    <script src="https://cdn.jsdelivr.net/gh/n5ro/aframe-physics-system@v4.0.1/dist/aframe-physics-system.js"></script>
    <script src="https://unpkg.com/aframe-physics-extras/dist/aframe-physics-extras.min.js"></script>
    <script src="https://rawgit.com/feiss/aframe-environment-component/master/dist/aframe-environment-component.min.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/donmccurdy/aframe-extras@v6.1.1/dist/aframe-extras.min.js"></script>


 
  <script src="../../js/input.component.js"></script>
  <script src="../../js/hand-attach.js"></script>
  <script src="../../js/attach-point.js"></script>

</head>

<body>
  <a-scene  physics="debug: false; gravity: -1; iterations: 75"  networked-scene="
      room: dev;
      debug: true;
      adapter: wseasyrtc;
    ">




    <a-assets>

      <a.asser-item id="alcoholbottle" src="../../Models/gltf/AlcoholBottle.gltf"></a.asser-item>
      <a.asser-item id="alcoholgel" src="../../Models/gltf/AlcoholGel.gltf"></a.asser-item>
      <a-asset-item id="table01" src="../../Models/gltf/Table.gltf"></a-asset-item>
      <a.asser-item id="tray" src="../../Models/gltf/Tray.gltf"></a.asser-item>
      <a-asset-item id="base" src="../../Models/gltf/Base.gltf"></a-asset-item>
      <a.asser-item id="cabinet01" src="../../Models/gltf/Cabinet01.gltf"></a.asser-item>
      <a.asser-item id="cabinet02" src="../../Models/gltf/Cabinet02.gltf"></a.asser-item>
      <a.asser-item id="cabinet03" src="../../Models/gltf/Cabinet03.gltf"></a.asser-item>
      <a-asset-item id="bed" src="../../Models/gltf/Bed.gltf"></a-asset-item>
      <a-asset-item id="container" src="../../Models/gltf/TrashContainer.gltf"></a-asset-item>
      <a-asset-item id="containerblack" src="../../Models/gltf/TrashContainerBlack.gltf"></a-asset-item>
      <a.asser-item id="cottonswabs01" src="../../Models/gltf/CottonSwabs01.gltf"></a.asser-item>
      <a.asser-item id="cottonswabs02" src="../../Models/gltf/CottonSwabs02.gltf"></a.asser-item>
      <a.asser-item id="cottonswabs03" src="../../Models/gltf/CottonSwabs03.gltf"></a.asser-item>
      <a.asser-item id="door" src="../../Models/gltf/Door.gltf"></a.asser-item>
      <a.asser-item id="dryer" src="../../Models/gltf/Dryer.gltf"></a.asser-item>
      <a-asset-item id="floor" src="../../Models/gltf/Floor.gltf"></a-asset-item>
       <a.asser-item id="gauze" src="../../Models/gltf/Gauze.gltf"></a.asser-item>
      <a-asset-item id="maskn95" src="../../Models/gltf/MaskN95.gltf"></a-asset-item>
      <a-asset-item id="medicaltape" src="../../Models/gltf/MedicalTape.gltf"></a-asset-item>
      <a-asset-item id="table04" src="../../Models/gltf/Table01.gltf"></a-asset-item>
      <a-asset-item id="modularscreen" src="../../Models/gltf/ModularScreen.gltf"></a-asset-item>
        <a-asset-item id="roof" src="../../Models/gltf/Roof.gltf"></a-asset-item>
      <a.asser-item id="salver" src="../../Models/gltf/Salver.gltf"></a.asser-item>
      <a-asset-item id="silla" src="../../Models/gltf/Silla.gltf"></a-asset-item>
       <a.asser-item id="surgicalpallets" src="../../Models/gltf/SurgicalPallets.gltf"></a.asser-item>
      <a.asser-item id="table02" src="../../Models/gltf/Table02.gltf"></a.asser-item>
      <a.asser-item id="table03" src="../../Models/gltf/Table03.gltf"></a.asser-item>
      <!-- <a.asser-item id="patient" src="../../Models/gltf/Patient.gltf"></a.asser-item> -->
      <a.asser-item id="patient" src="Patient_Catheter.gltf"></a.asser-item>

      <a.asser-item id="tweezers" src="../../Models/gltf/Tweezers.gltf"></a.asser-item>
      <a.asser-item id="tweezers2" src="../../Models/gltf/Tweezers2.gltf"></a.asser-item>

      <a-asset-item id="teacher" src="../../super/process/assets/TeacherAvatar.gltf"></a-asset-item>
      <a-asset-item id="right-hand" src="../../super/process/assets/rightHandHigh.glb"></a-asset-item>
      <a-asset-item id="left-hand" src="../../super/process/assets/leftHandHigh.glb"></a-asset-item>


      <!-- Hospital assets, static objects -->
      <a-asset-item id="bed" src="../../Models/gltf/Bed.gltf"></a-asset-item>


      <!-- Construction assets, static objects -->
      <a-asset-item id="wall" src="../../Models/gltf/Wall.gltf"></a-asset-item>
      <a-asset-item id="walldoor" src="../../Models/gltf/WallDoor.gltf"></a-asset-item>
      <a-asset-item id="wallfront" src="../../Models/gltf/WallFront.gltf"></a-asset-item>
      <a-asset-item id="wallwindow" src="../../Models/gltf/WallWindow.gltf"></a-asset-item>
      <a.asser-item id="washer" src="../../Models/gltf/Washer.gltf"></a.asser-item>
      <a.asser-item id="window" src="../../Models/gltf/Window.gltf"></a.asser-item>

      <a-mixin id="touch" physics-collider phase-shift collision-filter="collisionForces: false"
      static-body="shape: sphere; sphereRadius: 0.02" super-hands="colliderEvent: collisions;
                        colliderEventProperty: els;
                        colliderEndEvent: collisions;
                        colliderEndEventProperty: clearedEls;">
    </a-mixin>
    <a-mixin id="point" raycaster="showLine: true; objects: .vxr-interact" collision-filter="collisionForces: false"
      static-body="shape: sphere; sphereRadius: 0.001" super-hands="colliderEvent: raycaster-intersection;
                  colliderEventProperty: els;
                  colliderEndEvent:raycaster-intersection-cleared;
                  colliderEndEventProperty: clearedEls;"></a-mixin>

      <!--Asset section  -->


      <!-- template section -->
      <template id="player-template">
        <a-entity  networked-audio-source="positional:false"></a-entity>
      </template>

      <template id="constraint-teacher-avatar-template">
        <a-entity>
          <a-entity class="name-up-teacher"></a-entity>
          <a-entity class="TeacherAvatar" id="teacher" gltf-model="#teacher"></a-entity>
        </a-entity>
      </template>

      <template id="right-hand-template">
        <a-entity>
          <a-entity scale="0.8 0.8 0.8" gltf-model="#right-hand"></a-entity>
        </a-entity>
      </template>

      <!-- Left Hand -->
      <template id="left-hand-template">
        <a-entity>
          <a-entity scale="0.8 0.8 0.8" gltf-model="#left-hand"></a-entity>
        </a-entity>
      </template>

      <template id="vxr-obj-template-1">
        <a-entity>          
          <a-entity id="instruments" class="instrumentClass"   animation-mixer="timeScale:0"  gltf-model="Instruments_Animation.gltf" ;="" scale="" position="0.03489 -0.485 -2.1 "   material="color: brown" rotation="0 180.000 0"></a-entity>
        </a-entity>
      </template>

      <template id="vxr-obj-template-2">
        <a-entity>          
          
          <a-entity id="alcoholbottle01"  dynamic-body draggable grabbable  gltf-model="#alcoholbottle" ;="" scale="" position="-1.26886 -0.54837 -1.34884" material="color: brown"  dynamic-body draggable grabbable  rotation="0 270 0"></a-entity>        </a-entity>
      </template>

      <template id="vxr-obj-template-3">
        <a-entity>          
          
          <a-entity id="alcoholgel01"  dynamic-body draggable grabbable  gltf-model="#alcoholgel" ;="" scale="" position="-1.25945 -0.55079 -1.48695" material="color: brown" rotation="0 90 0"></a-entity>    
        </a-entity>
      </template>

      <template id="vxr-obj-template-4">
        <a-entity>          
          <a-entity id="tray002"    dynamic-body draggable grabbable  gltf-model="#tray" ;="" scale="" position="-1.14958 0.9646 -0.99129" material="color: brown" rotation="0 90 0"></a-entity>
        </a-entity>
      </template>

      <template id="vxr-obj-template-5">
        <a-entity>          
          <a-entity id="cottonswabs001" dynamic-body draggable grabbable gltf-model="#cottonswabs01" ;="" scale="" position="-0.98215 -0.53888 -1.48312" material="color: brown" rotation=""></a-entity>
        </a-entity>
      </template>
      
      <template id="vxr-obj-template-6">
        <a-entity>          
          <a-entity id="cottonswabs002"  dynamic-body draggable grabbable  gltf-model="#cottonswabs02" ;="" scale="" position="-0.99136 -0.53885 -1.4225" material="color: brown" rotation=""></a-entity>
        </a-entity>
      </template>

      <template id="vxr-obj-template-7">
        <a-entity>          
          <a-entity id="cottonswabs003"  dynamic-body="mass: 0.001;" draggable grabbable  gltf-model="#cottonswabs03" ;="" scale="" position="0.0764 -0.440 -2.0712" material="color: brown" rotation=""></a-entity>          
        </a-entity>
      </template>

      <template id="vxr-obj-template-8">
        <a-entity>          
          <a-entity id="gauze01"  dynamic-body draggable grabbable gltf-model="#gauze"  position="-1.06941 0.97629 -1.45662" material="color: brown" rotation=""></a-entity>
        </a-entity>
      </template>

      <template id="vxr-obj-template-9">
        <a-entity>          
          <a-entity id="maskn9501" dynamic-body draggable grabbable gltf-model="#maskn95" ;="" scale="" position="-0.92496 -0.51507 -0.64401"  material="color: brown" rotation="0 90 0"></a-entity>
         </a-entity>
      </template>

      <template id="vxr-obj-template-10">
        <a-entity>                    
          <a-entity id="medicaltape01"  dynamic-body draggable grabbable gltf-model="#medicaltape" ;="" scale="" position="-1.23429 -0.55 -0.64227" material="color: brown" rotation=""></a-entity>
        </a-entity>
      </template>

      

   


    </a-assets>

    
    
    <a-sphere id="sphere1" static-body="sphereRadius: NaN" attach-point="" opacity="0" position="1.21981 1.168 -2.030" color="black" radius="0.03" ></a-sphere>
    <!-- <a-box id="box2" foo opacity="0" static-body rotation="0 180 0" position="0.03489 1.5 -2.26097" color="red" depth="0.03" height="0.03" width="0.03"></a-box> -->
    <!-- <a-entity id="instruments" gltf-model="Instruments_Animation.gltf" ;="" scale="" position="0.03489 0.98227 -2.26097" animation-mixer="loop: false; repetitions: 0; timeScale: 0.5; clampWhenFinished: true" material="color: brown" rotation="0 135.99999999999999 0"></a-entity> -->
    <!-- <a-entity id="alcoholbottle01" gltf-model="#alcoholbottle" ;="" scale="" position="-1.24499 0.96339 -1.69628" material="color: brown" dynamic-body rotation="0 270 0"></a-entity> -->
    <!-- <a-entity id="alcoholgel01" gltf-model="#alcoholgel" ;="" scale="" position="-1.2944 0.91102 -1.56355" material="color: brown" rotation="0 90 0"></a-entity>     -->
    <!-- <a-entity id="tray002" gltf-model="#tray" ;="" scale="" position="-1.14958 0.9646 -0.99129" material="color: brown" rotation="0 90 0"></a-entity> -->
    <!-- <a-entity id="cottonswabs001" gltf-model="#cottonswabs01" ;="" scale="" position="-0.8488 0.98386 -1.39905" material="color: brown" rotation=""></a-entity> -->
    <!-- <a-entity id="cottonswabs002" gltf-model="#cottonswabs02" ;="" scale="" position="-0.92109 0.9828 -1.36809" material="color: brown" rotation=""></a-entity> -->
    <!-- <a-entity id="cottonswabs003" gltf-model="#cottonswabs03" ;="" scale="" position="-0.91719 0.98918 -1.46786" material="color: brown" rotation=""></a-entity> -->
    <!-- <a-entity id="gauze01" gltf-model="#gauze" ;="" scale="" position="-1.06941 0.97629 -1.45662" material="color: brown" rotation=""></a-entity> -->
    <!-- <a-entity id="maskn9501" gltf-model="#maskN95" ;="" scale="" position="-1.1798 1.10281 -1.41385" material="color: brown" rotation="0 90 0"></a-entity> -->
    <!-- <a-entity id="medicaltape01" gltf-model="#medicaltape" ;="" scale="" position="-1.05808 0.97084 -1.61434" material="color: brown" rotation=""></a-entity> -->


    <a-entity light="type: point; intensity: 0.5; distance: 50; decay: 2" position="0 10 10">
    </a-entity>
    <a-light type="directional" position="0 0 0" rotation="-90 0 0" target="#directionaltarget">
      <a-entity id="directionaltarget" position="0 0 -1"></a-entity>
    </a-light>

    
    <a-entity id="door01" gltf-model="#door" ; scale="1 1 1" position="1.42119 -0.0061 5.61094" material="color: brown" rotation="0 0 0"></a-entity>     
      <a-entity id="table004" gltf-model="#table04" ; scale="1 1 1" position="-0.50565 0.05425 5.01956" material="color: brown" rotation="0 0 0"></a-entity>      
      <a-box opacity="0" static-body  rotation="0 90 0" position="-1.06896 0.9 -1.29943" color="red" depth="0.6" height="0.1" width="1.1" ></a-box>   
      <a-box opacity="0" static-body  rotation="0 0 0" position="-0.06479 1.002 -2.40287" color="red" depth="0.6" height="0.1" width="1.1" ></a-box>
      
      <a-entity id="modularscreen01" gltf-model="#modularscreen" ; scale="1 1 1" position="-2.55443 0.05425 -3.1504"
      material="color: brown" rotation="0 90 0"></a-entity>
    <a-entity id="modularscreen02" gltf-model="#modularscreen" ; scale="1 1 1" position="-2.55443 0.05425 -2.21269"
      material="color: brown" rotation="0 90 0"></a-entity>
    <a-entity id="modularscreen03" gltf-model="#modularscreen" ; scale="1 1 1" position="-2.55443 0.05425 -4.07504"
      material="color: brown" rotation="0 90 0"></a-entity>
    <a-entity id="salver01" gltf-model="#salver" ; scale="1 1 1" position="2.68548 0.9076 1.67567"
      material="color: brown" rotation="0 90 0"></a-entity>
    <a-entity id="silla01" gltf-model="#silla" ; scale="1 1 1" position="1.25118 0.07007 1.00642"
      material="color: brown" rotation="0 0 0"></a-entity>
    <a-entity id="silla02" gltf-model="#silla" ; scale="1 1 1" position="0.27081 0.07224 1.01958"
      material="color: brown" rotation="0 0 0"></a-entity> 
    <a-entity id="surgicalpallets01" gltf-model="#surgicalpallets" ; scale="1 1 1" position="-3.29243 0.05275 5.16257"
      material="color: brown" rotation="0 0 0"></a-entity>
    <a-entity id="table002" gltf-model="#table02" ; scale="1 1 1" position="-2.02767 0.05023 5.10127"
      material="color: brown" rotation="0 0 0"></a-entity>
    <a-entity id="table003" gltf-model="#table03" ; scale="1 1 1" position="2.68763 0.07359 1.63293"
      material="color: brown" rotation="0 0 0"></a-entity>
    <a-entity id="cabinet005" gltf-model="#table03" ; scale="1 1 1" position="-3.92189 0.07752 4.83356"
      material="color: brown" rotation="0 -90 0"></a-entity>
    <a-entity id="patient01" gltf-model="#patient" ; scale="1 1 1" position="1.35487 0.90786 -1.32001"
      material="color: brown" rotatation="0 0 45"></a-entity>
 
    <!-- Construction assets, static objects -->
    <a-entity id="dryer01" gltf-model="#dryer" ; scale="1 1 1" position="2.9274 1.42006 0.81982" material="color: brown"
      rotation="0 90 0"></a-entity>
    <a-entity id="floor01" gltf-model="#floor" ; scale="1 1 1" position="-0.013 0 3.248"
      material="color: #ffffff; emissive: #000000; emissiveIntensity: 1" rotation="0 0 0"></a-entity>
    <a-entity id="floor02" gltf-model="#floor" ; scale="1 1 1" position="-5.98617 0 -1.752"
      material="color: #ffffff; emissive: #000000; emissiveIntensity: 1" rotation="0 0 0"></a-entity>
    <a-entity id="floor03" gltf-model="#floor" ; scale="1 1 1" position="-5.986 0 3.248"
      material="color: #ffffff; emissive: #000000; emissiveIntensity: 1" rotation="0 0 0"></a-entity>
    <a-entity id="floor04" gltf-model="#floor" ; scale="1 1 1" position="-0.01291 0 -1.752"
      material="color: #ffffff; emissive: #000000; emissiveIntensity: 1" rotation="0 0 0"></a-entity>
    <a-entity id="roof01" gltf-model="#roof" ; scale="1 1 1" position="0.071 3.53958 -1.24954" material="color: brown"
      rotation="0 0 0"></a-entity>
    <a-entity id="roof02" gltf-model="#roof" ; scale="1 1 1" position="0.07094 3.53958 4.89019" material="color: brown"
      rotation="0 0 0"></a-entity>
    <a-entity id="roof03" gltf-model="#roof" ; scale="1 1 1" position="-6.07136 3.53958 -1.25" material="color: brown"
      rotation="0 0 0"></a-entity>
    <a-entity id="roof04" gltf-model="#roof" ; scale="1 1 1" position="-6.071 3.53958 4.89" material="color: brown"
      rotation="0 0 0"></a-entity>
    <a-entity id="wallleft" gltf-model="#wall" ; scale="1 1 1" position="-9.24196 0 2.72759" material="color: brown"
      rotation="0 180 0"></a-entity>
    <a-entity id="wallleft02" gltf-model="#wall" ; scale="1 1 1" position="3.296 0 -1.58956" material="color: brown"
      rotation="0 0 0"></a-entity>
    <a-entity id="wallright" gltf-model="#wall" ; scale="1 1 1" position="-9.26816 0 -1.57869" material="color: #a52a2a"
      rotation="0 180 0"></a-entity>
    <a-entity id="wallright02" gltf-model="#wall" ; scale="1 1 1" position="3.296 0 2.728" material="color: #a52a2a"
      rotation="0 0 0"></a-entity>
    <a-entity id="wallfront" gltf-model="#walldoor" ; scale="1 1 1" position="0.73228 0 5.6" material="color: #a52a2a"
      rotation="0 0 0"></a-entity>
    <a-entity id="wallfront02" gltf-model="#wallfront" ; scale="1 1 1" position="-5.26453 0 5.6"
      material="color: #a52a2a" rotation="0 0 0"></a-entity>
    <a-entity id="wallback" gltf-model="#wallwindow" ; scale="1 1 1" position="-5.99395 0 -4.53513" rotation="0 0 0">
    </a-entity>
    <a-entity id="wallback02" gltf-model="#wallwindow" ; scale="1 1 1" position="-0.00198 0 -4.53513" rotation="0 0 0">
    </a-entity>
    <a-entity id="washer01" gltf-model="#washer" ; scale="1 1 1" position="2.59554 0.04112 0.77797"
      material="color: brown" rotation="0 0 0"></a-entity>
    <a-entity id="window01" gltf-model="#window" ; scale="1 1 1" position="-5.98243 0.65699 -4.57455"
      material="color: brown" rotation="0 0 0"></a-entity>
    <a-entity id="window02" gltf-model="#window" ; scale="1 1 1" position="-0.01636 0.65699 -4.57455"
      material="color: brown" rotation="0 0 0"></a-entity>

    <!-- Hospital assets, static objects -->
    <a-entity id="table001" gltf-model="#table01" ; scale="1 1 1" position="-0.02004 0.05136 -2.30545"
      material="color: brown" rotation="0 0 0"></a-entity>
    <a-entity id="base01" gltf-model="#base" ; scale="1 1 1" position="0.88522 0.05089 -2.6065" material="color: brown"
      rotation="0 0 0"></a-entity>
    <a-entity id="cabinet001" gltf-model="#cabinet01" ; scale="1 1 1" position="-0.47781 1.67577 5.38558"
      material="color: brown; metalness: 0" rotation="0 0 0"></a-entity>
    <a-entity id="cabinet002" gltf-model="#cabinet02" ; scale="1 1 1" position="-2.03603 1.68609 5.37983"
      material="color: brown" rotation="0 0 0"></a-entity>
    <a-entity id="cabinet003" gltf-model="#cabinet03" ; scale="1 1 1" position="-8.87798 1.33331 -0.58518"
      material="color: brown" rotation="0 0 0"></a-entity>
    <a-entity id="cabinet004" gltf-model="#cabinet03" ; scale="1 1 1" position="-8.8795 1.33379 0.49905"
      material="color: brown" rotation="0 0 0"></a-entity>
    <a-entity id="bed01" gltf-model="#bed" ; scale="1 1 1" position="1.32768 0.1254 -1.3118"
      material="color: brown; depthWrite: false; depthTest: false; alphaTest: 0; flatShading: false; side: front; metalness: 1"
      rotation="0 -2.97 0"></a-entity>
    <a-entity id="bed02" gltf-model="#bed" ; scale="1 1 1" position="-3.65525 0.1254 -1.3183"
      material="color: brown; depthWrite: false; depthTest: false; alphaTest: 0; flatShading: false; side: front"
      rotation="0 -2.97 0"></a-entity>
      <a-entity id="container01" gltf-model="../../Models/gltf/TrashContainer.gltf" ;="" scale="" position="-1.07479 0.1254 -2.22941" material="color: brown" rotation="0 90 0"></a-entity>
      <a-entity id="containerblack01" gltf-model="../../Models/gltf/TrashContainerBlack.gltf" ;="" scale="" position="-1.06353 0.12195 -2.82661" material="color: brown" rotation="0 90 0"></a-entity>
      <a-entity id="table001-2" gltf-model="../../Models/gltf/Table.gltf" ;="" scale="" position="-1.06281 0.05136 -1.27439" material="color: brown" rotation="0 90 0"></a-entity>

    <a-entity id="player" networked="template:#player-template;attachTemplateToLocal:false;" position="0 0 0"
      rotation="0 0.5 0" movement-controls="speed:0.5">
      <a-entity camera position="0 1.8 0" look-controls networked="template:#constraint-teacher-avatar-template;attachTemplateToLocal:false;">
      </a-entity>
      <!-- /VIVE CONTROLLERS -->
      <a-entity id="lhand" mixin="touch"  input-controls="hand: left" networked="template:#left-hand-template"  static-body>
      </a-entity>
      <a-entity id="rhand" mixin="touch"  input-controls="hand: right" networked="template:#right-hand-template">
      </a-entity>
    </a-entity>
    <a-box opacity="0"  position="-0.06479 0.9 -2.40287" color="red" depth="0.6" height="0.1" width="1.1"  ></a-box>


    <a-entity background="color: #92f2ff"></a-entity>

    <a-entity light="intensity: 0.5; type: ambient;"></a-entity>
     


  </a-scene>

  <script>
    // Define custom schema for syncing avatar color, set by random-color
    
    NAF.schemas.add({
      template: '#player-template',
      components: [
        'position',
        'rotation',
      ]
    });
    NAF.schemas.add({
      template: '#constraint-teacher-avatar-template',
      components: [
        'position',
        'rotation'
      ]
    });
    NAF.schemas.add({
      template: '#right-hand-template',
      components: [
        'position',
        'rotation'
      ]
    });
    NAF.schemas.add({
      template: '#left-hand-template',
      components: [
        'position',
        'rotation'
      ]
    });
    NAF.schemas.add({
  template: '#vxr-obj-template-1',
  components: [
    'position',
    'rotation',
    {
      selector: '.instrumentClass',
      component: 'animation-mixer'
    } 
  ]
});

    // Called by Networked-Aframe when connected to server
    function onConnect() {
      console.log("onConnect", new Date());
    }

    // On mobile remove elements that are resource heavy
    var isMobile = AFRAME.utils.device.isMobile();

    if (isMobile) {
      var particles = document.getElementById('particles');
      particles.parentNode.removeChild(particles);
    }
  
    
  </script>
  <script>
     AFRAME.registerComponent('animtrigger', {
  schema: {
    speed: { default: 0.01 },
    direction: { default: 1 }
  },
  
  init() {
    var el = this.el;
      this.el.addEventListener('collide', function(e) {
        console.log('object that collided: ', e.detail.body.el);
        let animationObject = document.getElementById("instruments")
        animationObject.setAttribute("animation-mixer","loop: false; repetitions: 0; timeScale: 0.5; clampWhenFinished: true")
    
      });

  },
 
 });


  </script>

<script src="../../js/Feature-SpawnObjects.js"></script>
<script src="../../js/Feature-Schemas.js"></script>


</body>

</html>